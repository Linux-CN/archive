---
author: ''
categories: 技术
comments_data:
- date: '2014-06-04 09:33:01'
  message: 屌爆了
  postip: 42.62.36.167
  username: 微博评论
- date: '2014-06-04 09:33:01'
  message: '[赞]'
  postip: 42.62.36.167
  username: 微博评论
- date: '2014-06-04 09:33:01'
  message: '@我的印象笔记'
  postip: 42.62.36.167
  username: 微博评论
- date: '2014-06-04 09:33:01'
  message: 哦？ //@2gua:[赞]
  postip: 42.62.36.167
  username: 微博评论
- date: '2014-06-04 09:33:01'
  message: '@我的印象笔记'
  postip: 42.62.36.167
  username: 微博评论
- date: '2014-06-04 09:33:01'
  message: '@我的印象笔记'
  postip: 42.62.36.167
  username: 微博评论
- date: '2014-06-04 09:58:28'
  message: 好吧，习惯真的很难改。
  postip: 219.146.73.5
  username: 绿色圣光
- date: '2014-06-04 10:03:01'
  message: '@我的印象笔记'
  postip: 157.55.35.48
  username: 微博评论
- date: '2014-06-04 10:03:01'
  message: Mark
  postip: 157.55.35.48
  username: 微博评论
- date: '2014-06-04 10:33:01'
  message: 学习一下
  postip: 124.65.196.2
  username: 微博评论
- date: '2014-06-04 10:33:01'
  message: '[赞] //@2gua:[赞]'
  postip: 124.65.196.2
  username: 微博评论
- date: '2014-06-04 10:33:01'
  message: '[赞]'
  postip: 124.65.196.2
  username: 微博评论
- date: '2014-06-04 10:33:01'
  message: '//@T-Bagwell刘歧://@2gua: [赞]'
  postip: 124.65.196.2
  username: 微博评论
- date: '2014-06-04 10:33:01'
  message: mark
  postip: 124.65.196.2
  username: 微博评论
- date: '2014-06-04 11:03:01'
  message: mark~~~
  postip: 198.143.130.90
  username: 微博评论
- date: '2014-06-04 11:03:01'
  message: 'nice//@ruochen_SH: //@T-Bagwell刘歧://@2gua: [赞]'
  postip: 198.143.130.90
  username: 微博评论
- date: '2014-06-04 11:03:01'
  message: 'BSD 系统ifconfig用得挺好//@2gua: [赞]'
  postip: 198.143.130.90
  username: 微博评论
- date: '2014-06-04 11:33:02'
  message: 'KISS怎么体现？//@2gua: [赞]'
  postip: 112.111.18.29
  username: 微博评论
- date: '2014-06-04 11:33:02'
  message: '男的女的嘴对嘴[哈哈]//@王海鹏Seal:KISS怎么体现？//@2gua: [赞]'
  postip: 112.111.18.29
  username: 微博评论
- date: '2014-06-04 11:33:02'
  message: '[嘻嘻]//@网络化制造:男的女的嘴对嘴[哈哈]//@王海鹏Seal:KISS怎么体现？//@2gua: [赞]'
  postip: 112.111.18.29
  username: 微博评论
- date: '2014-06-04 11:33:02'
  message: 不错！
  postip: 112.111.18.29
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: '[good]//@网络化制造: 男的女的嘴对嘴[哈哈]//@王海鹏Seal:KISS怎么体现？//@2gua: [赞]'
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: '厉害！！我还一直用ifconfig…………不知道公司机器装没装ip工具//@Linux中国:[嘻嘻]//@网络化制造:男的女的嘴对嘴[哈哈]//@王海鹏Seal:KISS怎么体现？//@2gua:
    [赞]'
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: 如果你新装的系统里找不到ifconfig，多半就是换成ip这个命令了（之前让我纳闷很久的一个问题）。
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: That's so cool!
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: 回复@王文文IT:应该与时俱进啦[嘻嘻]
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: 回复@王文文IT:应该与时俱进啦[嘻嘻]//@王文文IT:如果你新装的系统里找不到ifconfig，多半就是换成ip这个命令了（之前让我纳闷很久的一个问题）。
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: mark
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: '@某冰磷的碳核 OS3 换这？ //@Linux中国: 回复@王文文IT:应该与时俱进啦[嘻嘻]//@王文文IT:如果你新装的系统里找不到ifconfig，多半就是换成ip这个命令了（之前让我纳闷很久的一个问题）。'
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: 学习了//@王文文IT:如果你新装的系统里找不到ifconfig，多半就是换成ip这个命令了（之前让我纳闷很久的一个问题）。
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:03:02'
  message: 比如说Arch的base system就没有ifconfig和route等命令了 //@Linux中国:回复@王文文IT:应该与时俱进啦[嘻嘻]
    //@王文文IT:如果你新装的系统里找不到ifconfig，多半就是换成ip这个命令了（之前让我纳闷很久的一个问题）。
  postip: 220.181.108.154
  username: 微博评论
- date: '2014-06-04 12:31:59'
  message: '两种表现形式//@王海鹏Seal:KISS怎么体现？//@2gua: [赞]'
  postip: 116.208.95.191
  username: 微博评论
- date: '2014-06-04 12:31:59'
  message: '其实我只见过arch默认没有ifconfig//@小白在安同:@某冰磷的碳核 OS3 换这？ //@Linux中国: 回复@王文文IT:应该与时俱进啦[嘻嘻]//@王文文IT:如果你新装的系统里找不到ifconfig，多半就是换成ip这个命令了（之前让我纳闷很久的一个问题）。'
  postip: 116.208.95.191
  username: 微博评论
- date: '2014-06-04 12:31:59'
  message: '既然废弃了为什么那么多的发行版预装的都是ifconfig？//@Rhinuxx:BSD 系统ifconfig用得挺好//@2gua: [赞]'
  postip: 116.208.95.191
  username: 微博评论
- date: '2014-06-04 12:31:59'
  message: 'OS3 计划明年暑假，所以这个时候可能还要激进一些 //@果壳中的米特尼克: 其实我只见过arch默认没有ifconfig//@小白在安同:@某冰磷的碳核
    OS3 换这？'
  postip: 116.208.95.191
  username: 微博评论
- date: '2014-06-04 12:31:59'
  message: '历史遗迹，事实上开源界一方面新生事物和新技术发展的很快，另外一方面遗老遗少也挺多。不要被旧的东西完全束缚住，但也不能草率前进。//@releaseV1:既然废弃了为什么那么多的发行版预装的都是ifconfig？//@Rhinuxx:BSD
    系统ifconfig用得挺好//@2gua: [赞]'
  postip: 116.208.95.191
  username: 微博评论
- date: '2014-06-04 12:31:59'
  message: '@mark //@Linux中国:历史遗迹，事实上开源界一方面新生事物和新技术发展的很快，另外一方面遗老遗少也挺多。不要被旧的东西完全束缚住，但也不能草率前进。//@releaseV1:既然废弃了为什么那么多的发行版预装的都是ifconfig？//@Rhinuxx:BSD
    系统ifconfig用得挺好//@2gua: [赞]'
  postip: 116.208.95.191
  username: 微博评论
- date: '2014-06-04 12:31:59'
  message: 马
  postip: 116.208.95.191
  username: 微博评论
- date: '2014-06-04 12:31:59'
  message: '我能说我习惯了ifconfig吗？//@我爱笨兔兔ibentutu: @mark //@Linux中国:历史遗迹，事实上开源界一方面新生事物和新技术发展的很快，另外一方面遗老遗少也挺多。不要被旧的东西完全束缚住，但也不能草率前进。//@releaseV1:既然废弃了为什么那么多的发行版预装的都是ifconfig？'
  postip: 116.208.95.191
  username: 微博评论
- date: '2014-06-04 12:33:01'
  message: //@butbueatiful:转发微博
  postip: 101.226.51.230
  username: 微博评论
- date: '2014-06-04 13:03:01'
  message: '废话，等于没说//@Linux中国:历史遗迹，事实上开源界一方面新生事物和新技术发展的很快，另外一方面遗老遗少也挺多。不要被旧的东西完全束缚住，但也不能草率前进。//@releaseV1:既然废弃了为什么那么多的发行版预装的都是ifconfig？//@Rhinuxx:BSD
    系统ifconfig用得挺好//@2gua: [赞]'
  postip: 27.150.243.13
  username: 微博评论
- date: '2014-06-04 13:03:01'
  message: '怪不得arch默认没有ifconfig.//@zhangle1967082265: 转发微博'
  postip: 27.150.243.13
  username: 微博评论
- date: '2014-06-04 13:03:01'
  message: So Cool
  postip: 27.150.243.13
  username: 微博评论
- date: '2014-06-04 13:03:01'
  message: 好像不如原来的好用 @我的印象笔记
  postip: 27.150.243.13
  username: 微博评论
- date: '2014-06-04 13:03:01'
  message: 还有一个systemd//@我爱笨兔兔ibentutu:@mark //@Linux中国:历史遗迹，事实上开源界一方面新生事物和新技术发展的很快，另外一方面遗老遗少也挺多。不要被旧的东西完全束缚住，但也不能草率前进。//@releaseV1:既然废弃了为什么那么多的发行版预装的都是ifconfig？//@Rhinuxx:BSD
    系统ifconfig用得挺好
  postip: 27.150.243.13
  username: 微博评论
- date: '2014-06-04 13:03:01'
  message: '原来这玩意儿叫iproute2~//@Linux中国:历史遗迹，事实上开源界一方面新生事物和新技术发展的很快，另外一方面遗老遗少也挺多。不要被旧的东西完全束缚住，但也不能草率前进。//@releaseV1:既然废弃了为什么那么多的发行版预装的都是ifconfig？//@Rhinuxx:BSD
    系统ifconfig用得挺好//@2gua: [赞]'
  postip: 27.150.243.13
  username: 微博评论
- date: '2014-06-04 13:03:01'
  message: 活到老，学到老//@Linux中国:回复@王文文IT:应该与时俱进啦[嘻嘻]//@王文文IT:如果你新装的系统里找不到ifconfig，多半就是换成ip这个命令了（之前让我纳闷很久的一个问题）。
  postip: 27.150.243.13
  username: 微博评论
- date: '2014-06-04 13:18:54'
  message: 有什么实质性的区别吗？
  postip: 61.181.85.194
  username: Nutall
- date: '2014-06-04 13:33:02'
  message: 学习了
  postip: 66.249.79.175
  username: 微博评论
- date: '2014-06-04 13:33:02'
  message: '只有arch早早就坚持这个了//@王文文IT: 如果你新装的系统里找不到ifconfig，多半就是换成ip这个命令了（之前让我纳闷很久的一个问题）。'
  postip: 66.249.79.175
  username: 微博评论
- date: '2014-06-04 13:33:02'
  message: 'mark //@我爱笨兔兔ibentutu: @mark //@Linux中国:历史遗迹，事实上开源界一方面新生事物和新技术发展的很快，另外一方面遗老遗少也挺多。不要被旧的东西完全束缚住，但也不能草率前进。//@releaseV1:既然废弃了为什么那么多的发行版预装的都是ifconfig？//@Rhinuxx:BSD
    系统ifconfig用得挺好'
  postip: 66.249.79.175
  username: 微博评论
- date: '2014-06-04 14:03:01'
  message: 你还在使用ifconfig吗？
  postip: 66.249.79.207
  username: 微博评论
- date: '2014-06-04 14:03:01'
  message: 我不太能接受这个事儿。。。
  postip: 66.249.79.207
  username: 微博评论
- date: '2014-06-04 14:03:01'
  message: 我输入p link set eth0 down 能关闭网络，ip link set eth0 up 没反应？ 求解@Linux中国
  postip: 66.249.79.207
  username: 微博评论
- date: '2014-06-04 14:03:01'
  message: 'iproute2//@Linux中国: 历史遗迹，事实上开源界一方面新生事物和新技术发展的很快，另外一方面遗老遗少也挺多。不要被旧的东西完全束缚住，但也不能草率前进。//@releaseV1:既然废弃了为什么那么多的发行版预装的都是ifconfig？//@Rhinuxx:BSD
    系统ifconfig用得挺好//@2gua: [赞]'
  postip: 66.249.79.207
  username: 微博评论
- date: '2014-06-04 14:33:00'
  message: 啊？//@某冰磷的碳核:lfs base早就是有ip没有ifconfig的
  postip: 68.180.225.109
  username: 微博评论
- date: '2014-06-04 15:33:00'
  message: ip?没用过。。//@Linux中国:回复@王文文IT:应该与时俱进啦[嘻嘻]//@王文文IT:如果你新装的系统里找不到ifconfig，多半就是换成ip这个命令了（之前让我纳闷很久的一个问题）。
  postip: 220.181.51.35
  username: 微博评论
- date: '2014-06-04 16:33:01'
  message: 你却说花花世界不必当真！
  postip: 220.181.108.155
  username: 微博评论
- date: '2014-06-04 19:33:01'
  message: 习惯了ifconfig
  postip: 66.249.79.175
  username: 微博评论
- date: '2014-06-04 23:33:01'
  message: '还是在用ifconfig哇 //@Linux中国:历史遗迹，事实上开源界一方面新生事物和新技术发展的很快，另外一方面遗老遗少也挺多。不要被旧的东西完全束缚住，但也不能草率前进。//@releaseV1:既然废弃了为什么那么多的发行版预装的都是ifconfig？//@Rhinuxx:BSD
    系统ifconfig用得挺好//@2gua: [赞]'
  postip: 223.167.32.37
  username: 微博评论
- date: '2014-06-05 11:03:00'
  message: '[晕]'
  postip: 66.249.79.207
  username: 微博评论
- date: '2014-06-05 11:33:01'
  message: soga
  postip: 202.103.173.252
  username: 微博评论
- date: '2014-06-05 15:27:49'
  message: 我还用ifconfig和ifcfg-eth*的配置文件来管理和设置网络，除非没有ifconfig命令的时候。
  postip: 124.205.33.31
  username: bakgho
- date: '2014-06-06 12:03:00'
  message: 【用ip替代ifconfig】 设置IP地址:#ip addr add 192.168.0.111/24 dev eth0 查看是否生效:#ip
    addr show eth0 删除IP地址:#ip addr del 192.168.0.111/24 dev eth0 更改默认路由:#ip route
    add default via 192.168.0.1 停止网络接口:#ip link set eth0 down 激活网络接口:#ip link set
    eth0 up
  postip: 123.125.71.107
  username: 微博评论
- date: '2014-06-06 18:03:01'
  message: 学习了
  postip: 123.125.71.94
  username: 微博评论
- date: '2014-06-06 22:57:01'
  message: '@天宇feiyond'
  postip: 114.242.248.100
  username: 微博评论
- date: '2014-06-08 21:33:00'
  message: //@马全一:转发微博
  postip: 66.249.79.242
  username: 微博评论
- date: '2014-06-08 21:33:00'
  message: //@马全一:转发微博
  postip: 66.249.79.242
  username: 微博评论
- date: '2014-06-11 08:12:08'
  message: 赞一个！
  postip: 116.255.132.12
  username: netb2c
- date: '2014-06-11 09:33:00'
  message: '玩raspberry pi的时候发现pidora不支持ifconfig了，支持ip，不会用 yum install net-tools 又把ifconfig
    装回来了……//@T-Bagwell刘歧: //@2gua: [赞]'
  postip: 180.175.182.174
  username: 微博评论
- date: '2014-06-11 10:33:01'
  message: '汗//@T-Bagwell刘歧: 玩raspberry pi的时候发现pidora不支持ifconfig了，支持ip，不会用 yum install
    net-tools 又把ifconfig 装回来了……//@T-Bagwell刘歧: //@2gua: [赞]'
  postip: 36.250.182.178
  username: 微博评论
- date: '2014-06-11 10:33:01'
  message: 'mark//@Linux中国: 汗//@T-Bagwell刘歧: 玩raspberry pi的时候发现pidora不支持ifconfig了，支持ip，不会用
    yum install net-tools 又把ifconfig 装回来了……//@T-Bagwell刘歧: //@2gua: [赞]'
  postip: 36.250.182.178
  username: 微博评论
- date: '2014-06-11 10:33:01'
  message: '转给Linux爱好者。 //@Linux中国:汗//@T-Bagwell刘歧: 玩raspberry pi的时候发现pidora不支持ifconfig了，支持ip，不会用
    yum install net-tools 又把ifconfig 装回来了……//@T-Bagwell刘歧: //@2gua: [赞]'
  postip: 36.250.182.178
  username: 微博评论
- date: '2014-06-11 11:03:01'
  message: 我跟不上时代潮流了[懒得理你]
  postip: 112.111.18.12
  username: 微博评论
- date: '2014-06-11 13:33:00'
  message: 得学会努力接受新的事务。
  postip: 124.74.47.182
  username: 微博评论
- date: '2014-06-11 14:03:00'
  message: 没用过IP,得学习了,@我的印象笔记
  postip: 220.181.108.119
  username: 微博评论
- date: '2014-06-11 16:22:33'
  message: ifconfig过时还早吧，都是习惯用这个了。
  postip: 58.248.27.100
  username: arhool
- date: '2014-06-11 21:03:00'
  message: ，
  postip: 37.58.100.149
  username: 微博评论
- date: '2014-06-17 14:23:18'
  message: mark
  postip: 171.34.7.102
  username: 星夜
- date: '2014-06-22 09:01:34'
  message: yeah,很不错！学习了
  postip: 180.175.27.66
  username: hyplove
- date: '2015-02-13 14:24:38'
  message: ip是新命令？
  postip: 183.63.158.150
  username: 来自 - 广东广州 的 Chrome/Windows 用户
- date: '2015-02-13 16:12:24'
  message: 是的，netstat 过时啦。
  postip: 106.120.220.78
  username: linux
- date: '2019-03-08 13:23:33'
  message: 这个是最基础的东西，所以往往有一定的重要性
  postip: 117.136.7.251
  username: 来自黑龙江哈尔滨的 Chrome Mobile 62.0|Android 6.0 用户
- date: '2019-09-26 00:03:56'
  message: 真有趣
  postip: 60.50.109.219
  username: serverlow55 [Firefox 69.0|GNU/Linux]
- date: '2019-12-05 16:02:59'
  message: 馬克
  postip: 117.78.51.235
  username: Mr.Wang [Chrome 78.0|Windows 10]
- date: '2020-02-12 10:54:24'
  message: 学习了！感谢分享！
  postip: 112.42.87.241
  username: 来自112.42.87.241的 Chrome 63.0|Windows 10 用户
- date: '2021-03-21 19:57:34'
  message: 用惯了if用其他反而不适应
  postip: 223.104.216.61
  username: 来自223.104.216.61的 Mobile Safari 14.0|iOS 14.4 用户
- date: '2021-05-19 09:34:03'
  message: 能列出所有网口信息吗？明显做不到，我有50个网口，需要全部列出来，请问还有其他命令吗？
  postip: 218.4.63.155
  username: 来自江苏苏州的 Chrome 90.0|Windows 10 用户
- date: '2021-05-19 09:42:49'
  message: ifconfig -a 与ip addr show真的是一样吗？作者很辛苦做了个对照列表，但实际上这两个命令完全不一样，我用ip addr show不能看到我的50个网口。
  postip: 218.4.63.155
  username: 来自江苏苏州的 Chrome 90.0|Windows 10 用户
- date: '2022-10-13 14:19:18'
  message: 那个用 ip addr show 看不到网口的，要用 ip link show
  postip: 119.8.177.116
  username: 来自119.8.177.116的 Firefox 105.0|Windows 10 用户
count:
  commentnum: 90
  favtimes: 23
  likes: 0
  sharetimes: 42
  viewnum: 607994
date: '2014-06-04 09:00:00'
editorchoice: false
excerpt: linux的ip命令和ifconfig类似，但前者功能更强大，并旨在取代后者。使用ip命令，只需一个命令，你就能很轻松地执行一些网络管理任务。ifconfig是net-tools中已被废弃使用的一个命令，许多年前就已经没有维护了。iproute2套件里提供了许多增强功能的命令，ip命令即是其中之一。  要安装ip，请点击这里下载iproute2套装工具
  。不过，大多数Linux发行版已经预装了iproute2工具。 你也可以使用git命令来下载最新源代码来编译： $ git clone https://kernel.googlesource.com/pub/scm/linux/kernel/git/shemminger/iproute2.git   设置和删除Ip
fromurl: ''
id: 3144
islctt: false
largepic: /data/attachment/album/201406/04/003404uy9l1t5zayzllylm.png
url: /article-3144-1.html
pic: /data/attachment/album/201406/04/003404uy9l1t5zayzllylm.png.thumb.jpg
related: []
reviewer: ''
selector: ''
summary: linux的ip命令和ifconfig类似，但前者功能更强大，并旨在取代后者。使用ip命令，只需一个命令，你就能很轻松地执行一些网络管理任务。ifconfig是net-tools中已被废弃使用的一个命令，许多年前就已经没有维护了。iproute2套件里提供了许多增强功能的命令，ip命令即是其中之一。  要安装ip，请点击这里下载iproute2套装工具
  。不过，大多数Linux发行版已经预装了iproute2工具。 你也可以使用git命令来下载最新源代码来编译： $ git clone https://kernel.googlesource.com/pub/scm/linux/kernel/git/shemminger/iproute2.git   设置和删除Ip
tags: []
thumb: false
title: 试试Linux下的ip命令，ifconfig已经过时了
titlepic: false
translator: ''
updated: '2014-06-04 09:00:00'
---

linux的**ip**命令和**ifconfig**类似，但前者功能更强大，并旨在取代后者。使用ip命令，只需一个命令，你就能很轻松地执行一些网络管理任务。ifconfig是net-tools中已被废弃使用的一个命令，许多年前就已经没有维护了。iproute2套件里提供了许多增强功能的命令，ip命令即是其中之一。


![Net tools vs Iproute2](/data/attachment/album/201406/04/003404uy9l1t5zayzllylm.png)


要安装ip，请[点击这里](http://www.linuxgrill.com/anonymous/iproute2/NEW-OSDL/)下载**iproute2套装工具** 。不过，大多数Linux发行版已经预装了iproute2工具。


你也可以使用git命令来下载最新源代码来编译：



```
$ git clone https://kernel.googlesource.com/pub/scm/linux/kernel/git/shemminger/iproute2.git

```

![iproute2 git clone](/data/attachment/album/201406/04/003410tpix2804k660lwu4.png)


### 设置和删除Ip地址


要给你的机器设置一个IP地址，可以使用下列ip命令：



```
$ sudo ip addr add 192.168.0.193/24 dev wlan0

```

请注意IP地址要有一个后缀，比如/24。这种用法用于在无类域内路由选择（CIDR）中来显示所用的子网掩码。在这个例子中，子网掩码是255.255.255.0。


在你按照上述方式设置好IP地址后，需要查看是否已经生效。



```
$ ip addr show wlan0

```

![set ip address](/data/attachment/album/201406/04/003411qp4xsem5491ee49t.png)


你也可以使用相同的方式来删除IP地址，只需用del代替add。



```
$ sudo ip addr del 192.168.0.193/24 dev wlan0

```

![delete ip address](/data/attachment/album/201406/04/003412dottfn0jnidyykd2.png)


### 列出路由表条目


ip命令的路由对象的参数还可以帮助你查看网络中的路由数据，并设置你的路由表。第一个条目是默认的路由条目，你可以随意改动它。


在这个例子中，有几个路由条目。这个结果显示有几个设备通过不同的网络接口连接起来。它们包括WIFI、以太网和一个点对点连接。



```
$ ip route show

```

![ip route show](/data/attachment/album/201406/04/003413mnehm4uinhziu287.png)


假设现在你有一个IP地址，你需要知道路由包从哪里来。可以使用下面的路由选项（译注：列出了路由所使用的接口等）：



```
$ ip route get 10.42.0.47

```

![ip route get](/data/attachment/album/201406/04/003414h53e34qwjfo34emm.png)


### 更改默认路由


要更改默认路由，使用下面ip命令：



```
$ sudo ip route add default via 192.168.0.196

```

![default route](/data/attachment/album/201406/04/003415i8d82ulsa4c4jcd4.png)


### 显示网络统计数据


使用ip命令还可以显示不同网络接口的统计数据。


![ip statistics all interfaces](/data/attachment/album/201406/04/003417l1jc4h5537m050wy.png)


当你需要获取一个特定网络接口的信息时，在网络接口名字后面添加选项**ls**即可。使用多个选项**-s**会给你这个特定接口更详细的信息。特别是在排除网络连接故障时，这会非常有用。



```
$ ip -s -s link ls p2p1

```

![ip link statistics](/data/attachment/album/201406/04/003418acoo0krhjellollu.png)


### ARP条目


地址解析协议（ARP）用于将一个IP地址转换成它对应的物理地址，也就是通常所说的MAC地址。使用ip命令的neigh或者neighbour选项，你可以查看接入你所在的局域网的设备的MAC地址。



```
$ ip neighbour

```

![ip neighbour](/data/attachment/album/201406/04/003419uzm96tbvujb5bvqe.png)


### 监控netlink消息


也可以使用ip命令查看netlink消息。monitor选项允许你查看网络设备的状态。比如，所在局域网的一台电脑根据它的状态可以被分类成REACHABLE或者STALE。使用下面的命令：



```
$ ip monitor all

```

![ip monitor all](/data/attachment/album/201406/04/003420ap2j3jjvjk3jvvoo.png)


### 激活和停止网络接口


你可以使用ip命令的up和down选项来激某个特定的接口，就像ifconfig的用法一样。


在这个例子中，当ppp0接口被激活和在它被停止和再次激活之后，你可以看到相应的路由表条目。这个接口可能是wlan0或者eth0。将ppp0更改为你可用的任意接口即可。



```
$ sudo ip link set ppp0 down

$ sudo ip link set ppp0 up

```

![ip link set up and down](/data/attachment/album/201406/04/003421mdudvkazcgkl6g8d.png)


### 获取帮助


当你陷入困境，不知道某一个特定的选项怎么用的时候，你可以使用help选项。man页面并不会提供许多关于如何使用ip选项的信息，因此这里就是获取帮助的地方。


比如，想知道关于route选项更多的信息：



```
$ ip route help

```

![ip route help](/data/attachment/album/201406/04/003422xh9xm2wihecdjhif.png)


### 小结


对于网络管理员们和所有的Linux使用者们，ip命令是必备工具。是时候抛弃ifconfig命令了，特别是当你写脚本时。




---


via: <http://linoxide.com/linux-command/use-ip-command-linux/>


译者：[KayGuoWhu](https://github.com/KayGuoWhu) 校对：[wxy](https://github.com/wxy)
-----------------------------------------------------------------------------


本文由 [LCTT](https://github.com/LCTT/TranslateProject) 原创翻译，[Linux中国](http://linux.cn/) 荣誉推出